:root{
  --cells: 18;
  --board-max: 720px;
  --bg-1:#93f993; --bg-2:#f9f98e;
  --ui:#111; --shadow:rgba(0,0,0,.22);
  --border:#1f2937;
  --snake:#7c3aed; --head:#ef4444; --food:#facc15;
}

*{margin:0;padding:0;box-sizing:border-box}
html,body{height:100%}
body{
  display:grid; place-items:center;
  background:
    radial-gradient(120% 120% at 0% 0%, rgba(255,255,255,.08), transparent 60%),
    radial-gradient(120% 120% at 100% 100%, rgba(0,0,0,.12), transparent 60%),
    url("./bg.jpg") center/cover no-repeat fixed;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color:var(--ui);
}

.game-wrap{
  width:min(96vw, var(--board-max));
  display:grid;
  gap:10px;
}

/* HUD top bar */
.hud{
  display:flex; align-items:center; justify-content:space-between;
  gap:10px; padding:8px 10px;
  background:rgba(255,255,255,.6); backdrop-filter: blur(6px);
  border:1px solid rgba(17,24,39,.15); border-radius:12px;
  box-shadow:0 6px 16px var(--shadow);
}
.hud__pair{display:flex; align-items:baseline; gap:6px; font-weight:700}
.hud__pair strong{font-size:clamp(16px,3.6vw,22px); font-weight:900}
.hud__actions{display:flex; gap:8px}
.hud__actions button{
  cursor:pointer; padding:8px 10px; border-radius:10px;
  border:1px solid rgba(0,0,0,.15); background:#fff;
  box-shadow:0 2px 8px rgba(0,0,0,.12);
}

/* Board area */
.board-wrap{display:grid; place-items:center}
#playArea{
  position:relative;
  width:100%;
  aspect-ratio:1/1;
  max-width:var(--board-max);
  background:linear-gradient(var(--bg-1), var(--bg-2));
  border:2px solid var(--border);
  border-radius:16px;
  box-shadow:0 12px 28px var(--shadow);
  display:grid;
  grid-template: repeat(var(--cells),1fr) / repeat(var(--cells),1fr);
  overflow:hidden;
  touch-action:none;
}
.game-wrap.overlay-active #playArea{
  filter: blur(8px) saturate(.9);
  transition: filter .2s ease;
}

/* Faint grid lines */
#playArea::before{
  content:""; position:absolute; inset:0; border-radius:inherit; pointer-events:none;
  background-image:
    linear-gradient(to right, rgba(0,0,0,.06) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(0,0,0,.06) 1px, transparent 1px);
  background-size: calc(100%/var(--cells)) calc(100%/var(--cells));
}

/* Entities */
.snake,.head,.food{border-radius:6px; box-shadow:inset 0 0 0 1px rgba(0,0,0,.08), 0 1px 3px rgba(0,0,0,.18)}
.snake{background:var(--snake)}
.head{background:var(--head); transform:scale(1.03)}
.food{background:var(--food)}

/* Overlay */
#overlay{ position:fixed; inset:0; display:grid; place-items:center; z-index:5; }
#overlay[hidden]{ display:none }
#overlay .panel{
  background:#ffffffd9; border:1px solid rgba(0,0,0,.14);
  border-radius:16px; padding:18px 20px; text-align:center;
  box-shadow:0 18px 40px var(--shadow); max-width:min(420px, 90vw);
}
.overlay-actions{display:flex; gap:8px; justify-content:center; margin-top:8px}
#overlay button{
  padding:10px 14px; border-radius:10px; border:1px solid rgba(0,0,0,.15); background:#fff; cursor:pointer;
}

/* Mobile D-pad */
.mobile-controls{
  display:none;
  user-select:none;
}
.mobile-controls button{
  font-size:22px; padding:12px; border-radius:12px;
  border:1px solid rgba(0,0,0,.15); background:#fff;
  box-shadow:0 3px 10px rgba(0,0,0,.12);
}
.mobile-controls .mid{display:flex; gap:64px; justify-content:center; margin:8px 0}

/* Mobile layout */
@media (max-width: 900px){
  .game-wrap{ width:92vw }
  .hud{ gap:6px; padding:6px 8px }
  .hud__actions button{ padding:7px 10px }
  .mobile-controls{ display:flex; flex-direction:column; align-items:center; }
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce){
  *{animation:none !important; transition:none !important}
}
